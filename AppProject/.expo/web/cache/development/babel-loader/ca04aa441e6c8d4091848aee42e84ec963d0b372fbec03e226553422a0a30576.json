{"ast":null,"code":"import _slicedToArray from \"@babel/runtime/helpers/slicedToArray\";\nimport React, { useState, useEffect } from 'react';\nimport View from \"react-native-web/dist/exports/View\";\nimport Text from \"react-native-web/dist/exports/Text\";\nimport Button from \"react-native-web/dist/exports/Button\";\nimport FlatList from \"react-native-web/dist/exports/FlatList\";\nimport StyleSheet from \"react-native-web/dist/exports/StyleSheet\";\nimport { Card, FAB } from 'react-native-paper';\nimport { jsxs as _jsxs } from \"react/jsx-runtime\";\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nfunction Results(props) {\n  var _useState = useState([]),\n    _useState2 = _slicedToArray(_useState, 2),\n    myData = _useState2[0],\n    setData = _useState2[1];\n  var _useState3 = useState(true),\n    _useState4 = _slicedToArray(_useState3, 2),\n    loading = _useState4[0],\n    setIsLoading = _useState4[1];\n  var loadData = function loadData() {\n    fetch('http://192.168.3.2:3000/getaudios', {\n      method: 'GET'\n    }).then(function (resp) {\n      return resp.json();\n    }).then(function (audio) {\n      setData(audio);\n      setIsLoading(false);\n    }).catch(function (error) {\n      return console.log(error);\n    });\n  };\n  useEffect(function () {\n    loadData();\n  }, []);\n  var clickedItem = function clickedItem(data) {\n    props.navigation.navigate('Details', {\n      data: data\n    });\n  };\n  var renderData = function renderData(item) {\n    return _jsx(Card, {\n      style: styles.cardStyle,\n      onPress: function onPress() {\n        return clickedItem(item);\n      },\n      children: _jsxs(Text, {\n        style: {\n          fontSize: 20,\n          fontWeight: 600\n        },\n        children: [\"ID: \", item.id]\n      })\n    });\n  };\n  return _jsx(View, {\n    style: {\n      flex: 1\n    },\n    children: _jsx(FlatList, {\n      data: myData,\n      renderItem: function renderItem(_ref) {\n        var item = _ref.item;\n        return renderData(item);\n      },\n      onRefresh: function onRefresh() {\n        return loadData();\n      },\n      refreshing: loading,\n      keyExtractor: function keyExtractor(item) {\n        return \"\" + item.id;\n      }\n    })\n  });\n}\nvar styles = StyleSheet.create({\n  cardStyle: {\n    margin: 10,\n    padding: 10\n  },\n  fab: {\n    position: 'absolute',\n    margin: 16,\n    right: 0,\n    bottom: 0\n  }\n});\nexport default Results;","map":{"version":3,"names":["React","useState","useEffect","View","Text","Button","FlatList","StyleSheet","Card","FAB","jsxs","_jsxs","jsx","_jsx","Results","props","_useState","_useState2","_slicedToArray","myData","setData","_useState3","_useState4","loading","setIsLoading","loadData","fetch","method","then","resp","json","audio","catch","error","console","log","clickedItem","data","navigation","navigate","renderData","item","style","styles","cardStyle","onPress","children","fontSize","fontWeight","id","flex","renderItem","_ref","onRefresh","refreshing","keyExtractor","create","margin","padding","fab","position","right","bottom"],"sources":["F:/projectXapp/AppProject/components/Results.js"],"sourcesContent":["import React, {useState, useEffect} from 'react'\r\nimport {View, Text, Button, FlatList, StyleSheet} from 'react-native'\r\nimport {Card, FAB} from 'react-native-paper'\r\n\r\nfunction Results(props){\r\n\r\n    const [myData, setData] = useState([]) //Использование хуков\r\n\r\n    // Потянуть вниз для обновления информации pull-to-refresh\r\n    const [loading, setIsLoading] = useState(true)\r\n    const loadData = () =>{\r\n        fetch(\r\n            'http://192.168.3.2:3000/getaudios',\r\n            {method:'GET'}\r\n        )            \r\n        .then(resp => resp.json())\r\n        .then(audio => {\r\n            setData(audio)\r\n            setIsLoading(false)\r\n        })\r\n        .catch(error => console.log(error))\r\n    }\r\n\r\n    //Берем данные с бэкенда (уже через функцию выше)\r\n    useEffect(()=>{\r\n        loadData()\r\n    }, [])    \r\n\r\n\r\n    const clickedItem = (data) => {\r\n        props.navigation.navigate('Details', {data:data})\r\n    }\r\n\r\n\r\n    const renderData = (item) => {\r\n        return(\r\n            <Card style = {styles.cardStyle} onPress={()=>clickedItem(item)}>\r\n                <Text style = {{fontSize: 20, fontWeight: 600}}>\r\n                    ID: {item.id}\r\n                </Text>\r\n\r\n            </Card>\r\n        )\r\n    }\r\n\r\n    \r\n    return(\r\n    <View style={{flex:1}}>\r\n        <FlatList\r\n            data={myData}\r\n            renderItem={({item})=>{\r\n                return renderData(item)\r\n            }}\r\n            onRefresh = {()=>loadData()}\r\n            refreshing = {loading}\r\n            keyExtractor={item => `${item.id}`} \r\n        />      \r\n\r\n        {/*\r\n        <FAB\r\n            style = {styles.fab}\r\n            small = {false}\r\n            icon = \"plus\"\r\n            theme = {{colors:{accent:\"green\"}}}\r\n            onPress = {() => props.navigation.navigate('Create')}\r\n        />  \r\n        */}\r\n    </View>\r\n    )\r\n}\r\n\r\nconst styles = StyleSheet.create({\r\n    cardStyle:{\r\n        margin: 10,\r\n        padding: 10,\r\n    },\r\n\r\n    fab:{\r\n        position:'absolute',\r\n        margin: 16,\r\n        right: 0,\r\n        bottom: 0\r\n    }\r\n})\r\n\r\nexport default Results"],"mappings":";AAAA,OAAOA,KAAK,IAAGC,QAAQ,EAAEC,SAAS,QAAO,OAAO;AAAA,OAAAC,IAAA;AAAA,OAAAC,IAAA;AAAA,OAAAC,MAAA;AAAA,OAAAC,QAAA;AAAA,OAAAC,UAAA;AAEhD,SAAQC,IAAI,EAAEC,GAAG,QAAO,oBAAoB;AAAA,SAAAC,IAAA,IAAAC,KAAA;AAAA,SAAAC,GAAA,IAAAC,IAAA;AAE5C,SAASC,OAAOA,CAACC,KAAK,EAAC;EAEnB,IAAAC,SAAA,GAA0Bf,QAAQ,CAAC,EAAE,CAAC;IAAAgB,UAAA,GAAAC,cAAA,CAAAF,SAAA;IAA/BG,MAAM,GAAAF,UAAA;IAAEG,OAAO,GAAAH,UAAA;EAGtB,IAAAI,UAAA,GAAgCpB,QAAQ,CAAC,IAAI,CAAC;IAAAqB,UAAA,GAAAJ,cAAA,CAAAG,UAAA;IAAvCE,OAAO,GAAAD,UAAA;IAAEE,YAAY,GAAAF,UAAA;EAC5B,IAAMG,QAAQ,GAAG,SAAXA,QAAQA,CAAA,EAAQ;IAClBC,KAAK,CACD,mCAAmC,EACnC;MAACC,MAAM,EAAC;IAAK,CAAC,CACjB,CACAC,IAAI,CAAC,UAAAC,IAAI;MAAA,OAAIA,IAAI,CAACC,IAAI,EAAE;IAAA,EAAC,CACzBF,IAAI,CAAC,UAAAG,KAAK,EAAI;MACXX,OAAO,CAACW,KAAK,CAAC;MACdP,YAAY,CAAC,KAAK,CAAC;IACvB,CAAC,CAAC,CACDQ,KAAK,CAAC,UAAAC,KAAK;MAAA,OAAIC,OAAO,CAACC,GAAG,CAACF,KAAK,CAAC;IAAA,EAAC;EACvC,CAAC;EAGD/B,SAAS,CAAC,YAAI;IACVuB,QAAQ,EAAE;EACd,CAAC,EAAE,EAAE,CAAC;EAGN,IAAMW,WAAW,GAAG,SAAdA,WAAWA,CAAIC,IAAI,EAAK;IAC1BtB,KAAK,CAACuB,UAAU,CAACC,QAAQ,CAAC,SAAS,EAAE;MAACF,IAAI,EAACA;IAAI,CAAC,CAAC;EACrD,CAAC;EAGD,IAAMG,UAAU,GAAG,SAAbA,UAAUA,CAAIC,IAAI,EAAK;IACzB,OACI5B,IAAA,CAACL,IAAI;MAACkC,KAAK,EAAIC,MAAM,CAACC,SAAU;MAACC,OAAO,EAAE,SAAAA,QAAA;QAAA,OAAIT,WAAW,CAACK,IAAI,CAAC;MAAA,CAAC;MAAAK,QAAA,EAC5DnC,KAAA,CAACP,IAAI;QAACsC,KAAK,EAAI;UAACK,QAAQ,EAAE,EAAE;UAAEC,UAAU,EAAE;QAAG,CAAE;QAAAF,QAAA,GAAC,MACxC,EAACL,IAAI,CAACQ,EAAE;MAAA;IACT,EAEJ;EAEf,CAAC;EAGD,OACApC,IAAA,CAACV,IAAI;IAACuC,KAAK,EAAE;MAACQ,IAAI,EAAC;IAAC,CAAE;IAAAJ,QAAA,EAClBjC,IAAA,CAACP,QAAQ;MACL+B,IAAI,EAAElB,MAAO;MACbgC,UAAU,EAAE,SAAAA,WAAAC,IAAA,EAAU;QAAA,IAARX,IAAI,GAAAW,IAAA,CAAJX,IAAI;QACd,OAAOD,UAAU,CAACC,IAAI,CAAC;MAC3B,CAAE;MACFY,SAAS,EAAI,SAAAA,UAAA;QAAA,OAAI5B,QAAQ,EAAE;MAAA,CAAC;MAC5B6B,UAAU,EAAI/B,OAAQ;MACtBgC,YAAY,EAAE,SAAAA,aAAAd,IAAI;QAAA,YAAOA,IAAI,CAACQ,EAAE;MAAA;IAAG;EACrC,EAWC;AAEX;AAEA,IAAMN,MAAM,GAAGpC,UAAU,CAACiD,MAAM,CAAC;EAC7BZ,SAAS,EAAC;IACNa,MAAM,EAAE,EAAE;IACVC,OAAO,EAAE;EACb,CAAC;EAEDC,GAAG,EAAC;IACAC,QAAQ,EAAC,UAAU;IACnBH,MAAM,EAAE,EAAE;IACVI,KAAK,EAAE,CAAC;IACRC,MAAM,EAAE;EACZ;AACJ,CAAC,CAAC;AAEF,eAAehD,OAAO"},"metadata":{},"sourceType":"module","externalDependencies":[]}